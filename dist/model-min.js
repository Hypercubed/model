!function(){function t(t){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,t()},0))}}function n(t){return!t.some(function(t){return"undefined"==typeof t||null===t})}function e(t){return this instanceof e?(this.$$values={},this.$$listeners={},this.$$trackedProperties={},this.observe(),void this.set(t)):new e(t)}function o(t){t.forEach(function(t){var n=t.name,e=t.object[n]||void 0,o=t.oldValue?t.oldValue[t.name]:void 0;r(t.object,n).forEach(function(n){n.call(t.object,e,o)})})}function i(t,n,e){n in t.$$trackedProperties||(t.$$trackedProperties[n]=!0)}function r(t,n){return t.$$listeners[n]||(t.$$listeners[n]=[])}e.prototype.observe=function(){var t=this;Object.observe(t,o)},e.prototype.unobserve=function(){Object.unobserve(this,o),this.$$values=null,this.$$listeners=null,this.$$trackedProperties=null},e.prototype.set=function(t){for(var n in t)this[n]=t[n]},e.prototype.off=function(t,n){this.$$listeners[t]=this.$$listeners[t].filter(function(t){return t!==n})},e.prototype.cancel=function(t){for(var n in this.$$listeners)this.off(n,t)},e.prototype.on=function(t,n,e){e=e||this,r(this,t).push(n),i(this,t,e)},e.prototype.when=function(e,o,i){i=i||this;var r=this;e=e instanceof Array?e:[e];var s=t(function(){var t=e.map(function(t){return r[t]});n(t)&&o.apply(i,t)});return e.forEach(function(t){r.on(t,s)}),s},e.None="__NONE__","function"==typeof define&&define.amd?define([],function(){return e}):"object"==typeof exports?module.exports=e:this.Model=e}();