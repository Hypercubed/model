!function(){function n(n){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,n()},0))}}function t(n){return!n.some(function(n){return"undefined"==typeof n||null===n})}function o(e){function i(o,e,i){i=i||this,o=o instanceof Array?o:[o];var u=n(function(){var n=o.map(function(n){return l[n]});t(n)&&e.apply(i,n)});return o.forEach(function(n){f(n,u)}),u}function f(n,t,o){o=o||this,u(n).push(t),r(n,o)}function u(n){return d[n]||(d[n]=[])}function r(n,t){n in h||(h[n]=!0)}function c(n){for(var t in d)a(t,n)}function a(n,t){d[n]=d[n].filter(function(n){return n!==t})}function s(n){for(var t in n)l[t]=n[t]}if(!(this instanceof o))return new o(e);var l=this,d={},h={};l.when=i,l.cancel=c,l.on=f,l.off=a,l.set=s,Object.observe(l,function(n){n.forEach(function(n){var t=n.name,o=n.object[t]||void 0,e=n.oldValue?n.oldValue[n.name]:void 0;u(t).forEach(function(n){n.call(l,o,e)})})}),s(e)}o.None="__NONE__","function"==typeof define&&define.amd?define([],function(){return o}):"object"==typeof exports?module.exports=o:this.Model=o}();